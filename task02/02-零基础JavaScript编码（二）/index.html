<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
</head>

<body>

    <h3>污染城市列表</h3>
    <ul id="aqi-list"></ul>

    <script type="text/javascript">
        var aqiData = [
            ["北京", 90],
            ["上海", 50],
            ["福州", 10],
            ["广州", 50],
            ["成都", 90],
            ["西安", 100]
        ];

        function outputCityData(cityData, index) {
            let rankingArr = ['一', '二', '三', '四', '五', '六'];
            let li = document.createElement('li');
            let contentText = `第${rankingArr[index]}名：${cityData[0]}，${cityData[1]}`;
            let content = document.createTextNode(contentText);
            li.appendChild(content);
            let ul = document.getElementById('aqi-list');
            ul.appendChild(li);
        }

        (function () {
            let heavyAqiData = aqiData.filter((val) => val[1] > 60);
            heavyAqiData = heavyAqiData.sort((a, b) => b[1] - a[1]);
            heavyAqiData.forEach((val, index) => outputCityData(val, index));
        })();
    </script>
</body>

</html>